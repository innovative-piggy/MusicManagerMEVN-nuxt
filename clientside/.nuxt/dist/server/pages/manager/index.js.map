{"version":3,"file":"pages/manager/index.js","sources":["webpack:///./pages/manager/index.vue?179a","webpack:///./components/manager/manager.vue?e11c","webpack:///./components/manager/manager.vue","webpack:///./components/manager/manager.vue?bea1","webpack:///./components/manager/manager.vue?bb0e","webpack:///./pages/manager/index.vue","webpack:///./pages/manager/index.vue?f55b","webpack:///./pages/manager/index.vue?93e6"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('manager')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mt-5\"},[_vm._ssrNode(\"<div class=\\\"container mb-4\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\">\"+((_vm.addState)?(\"<div class=\\\"card\\\"><div class=\\\"card-body\\\"><div class=\\\"card-title mb-4\\\"><h4>Add Music</h4></div> <form enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group\\\"><label for=\\\"title\\\">Title</label> <input type=\\\"text\\\"\"+(_vm._ssrAttr(\"value\",(_vm.musicDetails.title)))+\" class=\\\"form-control\\\"></div> <div class=\\\"form-group\\\"><label for=\\\"artist\\\">Artist</label> <input type=\\\"text\\\"\"+(_vm._ssrAttr(\"value\",(_vm.musicDetails.artist)))+\" class=\\\"form-control\\\"></div> <div class=\\\"form-group\\\"><label for=\\\"artist\\\">Music</label> <div class=\\\"custom-file\\\"><input type=\\\"file\\\" id=\\\"customFile\\\" class=\\\"custom-file-input\\\"> <label for=\\\"customFile\\\" class=\\\"custom-file-label\\\">Choose file</label></div></div> <div class=\\\"form-group\\\"><button\"+(_vm._ssrAttr(\"disabled\",_vm.isDisabled))+\" class=\\\"btn btn-primary\\\">\"+((_vm.addLoading)?(\"<span role=\\\"status\\\" aria-hidden=\\\"true\\\" class=\\\"spinner-border spinner-border-sm\\\"></span>\"):\"<!---->\")+\"Submit\\n                </button></div></form></div></div>\"):\"<!---->\")+\"</div></div></div> <div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"card bg-light p-1 showdow-sm\\\"><div class=\\\"card-title\\\"><button class=\\\"btn btn-info m-3\\\">\"+_vm._ssrEscape(_vm._s(_vm.addState?\"Cancel\":\"Add New Music\"))+\"</button></div> <div class=\\\"card-body\\\"><table class=\\\"table\\\"><thead><tr><th scope=\\\"col\\\">#</th> <th scope=\\\"col\\\">Title</th> <th scope=\\\"col\\\">Artist</th> <th scope=\\\"col\\\">Date created</th> <th scope=\\\"col\\\">Action</th></tr></thead> \"+((_vm.musicLoading)?(\"<div role=\\\"status\\\" class=\\\"spinner-border\\\" style=\\\"width: 3rem; height: 3rem;\\\"><span class=\\\"sr-only\\\">Loading...</span></div>\"):(\"<tbody>\"+(_vm._ssrList((_vm.allmusic),function(music,index){return (\"<tr><td>\"+_vm._ssrEscape(_vm._s(index + 1))+\"</td> <td>\"+_vm._ssrEscape(_vm._s(music.title))+\"</td> <td>\"+_vm._ssrEscape(_vm._s(music.artist))+\"</td> <td>\"+_vm._ssrEscape(_vm._s(music.created))+\"</td> <td><button class=\\\"btn btn-info\\\">Delete</button></td></tr>\")}))+\"</tbody>\"))+\"</table></div></div></div></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      musicDetails: {\r\n        title: '',\r\n        artist: '',\r\n        music: ''\r\n      },\r\n      allmusic: [],\r\n      addState: false,\r\n      addLoading: false,\r\n      musicLoading: false,\r\n      isValid: false\r\n    }\r\n  },\r\n  computed: {\r\n    isDisabled: function() {\r\n      if (\r\n        this.musicDetails.title === '' ||\r\n        this.musicDetails.artist === '' ||\r\n        this.musicDetails.music === ''\r\n      ) {\r\n        return !this.isValid\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initForm() {\r\n      this.addState = !this.addState\r\n    },\r\n    handleFileUpload() {\r\n      this.musicDetails.music = this.$refs.file.files[0]\r\n\r\n      console.log(this.musicDetails.music.type)\r\n    },\r\n    async getAllMusics() {\r\n      this.musicLoading = true\r\n      try {\r\n        let data = await this.$axios.$get('/music')\r\n        this.allmusic = data\r\n        this.musicLoading = false\r\n      } catch (err) {\r\n        this.musicLoading = false\r\n        swal('Error', 'Error Fetting Musics', 'error')\r\n      }\r\n    },\r\n    addNewMusic() {\r\n      let types = /(\\.|\\/)(mp3|mp4)$/i\r\n      if (\r\n        types.test(this.musicDetails.music.type) ||\r\n        types.test(this.musicDetails.music.name)\r\n      ) {\r\n        let formData = new FormData()\r\n\r\n        formData.append('title', this.musicDetails.title)\r\n        formData.append('artist', this.musicDetails.artist)\r\n        formData.append('music', this.musicDetails.music)\r\n        this.addLoading = true\r\n        this.$axios\r\n          .$post('/music', formData)\r\n          .then(response => {\r\n            console.log(response)\r\n            this.addLoading = false\r\n            this.musicDetails = {}\r\n            this.getAllMusics() // we will create this function later\r\n            swal('Success', 'New Music Added', 'success')\r\n          })\r\n          .catch(err => {\r\n            this.addLoading = false\r\n            swal('Error', 'Something Went wrong', 'error')\r\n            console.log(err)\r\n          })\r\n      } else {\r\n        swal('Error', 'Invalid file type', 'error')\r\n\r\n        return !this.isValid\r\n      }\r\n    },\r\n\r\n    deleteMusic(id) {\r\n      swal({\r\n        title: 'Are you sure?',\r\n        text: 'Once deleted, you will not be able to recover this Music!',\r\n        icon: 'warning',\r\n        buttons: true,\r\n        dangerMode: true\r\n      }).then(willDelete => {\r\n        if (willDelete) {\r\n          this.$axios\r\n            .$delete('/music/' + id)\r\n            .then(response => {\r\n              this.getAllMusics()\r\n              swal('Poof! Your Music file has been deleted!', {\r\n                icon: 'success'\r\n              })\r\n            })\r\n            .catch(err => {\r\n              swal('Error', 'Somethimg went wrong', 'error')\r\n            })\r\n        } else {\r\n          swal('Your Music file is safe!')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getAllMusics()\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manager.vue?vue&type=template&id=3ba11be4&\"\nimport script from \"./manager.vue?vue&type=script&lang=js&\"\nexport * from \"./manager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"15419b14\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n\r\nimport manager from '@/components/manager/manager'\r\nexport default {\r\n  components: {\r\n    manager\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f775614e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"5adeb106\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAGA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9EA;AACA;AA8EA;AACA;AACA;AACA;AA5GA;;AClGA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AADA;;ACPA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}